<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="../img/favicon.png" type="image/png">
  <title>Editar Producto | Level-Up Gamer</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/estilos.css" />
  <script defer src="../js/datos.js"></script>
  <script defer src="../js/app.js"></script>
</head>
<body>
  <header class="encabezado">
    <a class="logo" href="admin.html">
      <img src="../img/LOGO.png" alt="Logo" class="logoBase">
    </a>
    <nav class="navegacion">
      <a href="../index.html">Inicio</a>
      <a href="../productos.html">Productos</a>
      <button id="btnPerfilDesk" class="perfil-desk oculto" aria-label="Mi cuenta">
        <img src="../img/imgPerfil.png" alt="" loading="lazy">
      </button>
    </nav>
  </header>

  <main class="principal">
    <section class="admin">
      <aside class="menu-admin">
        <a href="admin.html">Inicio</a>
        <a href="productos.html" class="activo">Productos</a>
        <a href="usuarios.html" class="solo-admin">Usuarios</a>
      </aside>

      <div class="panel">
        <h1>Editar Producto</h1>
        <form id="formEditarProducto" class="formulario" novalidate>
          <div class="fila">
            <label for="e_codigoProducto">Código</label>
            <input id="e_codigoProducto" readonly>
            <small class="pista">El código no puede modificarse.</small>
          </div>

          <div class="fila">
            <label for="e_nombreProducto">Nombre</label>
            <input id="e_nombreProducto" maxlength="100" required>
            <div class="error" id="errENombre"></div>
          </div>

          <div class="fila">
            <label for="e_descripcionProducto">Descripción</label>
            <textarea id="e_descripcionProducto" maxlength="500" rows="3"></textarea>
          </div>

          <div class="fila">
            <label for="e_detallesProducto">Detalles (opcional)</label>
            <textarea id="e_detallesProducto" rows="4" placeholder="Origen, fabricante, distribuidor, certificaciones…"></textarea>
            <small class="pista">Se muestra en “Ver más” del detalle.</small>
          </div>

          <div class="fila dos">
            <div>
              <label for="e_precioProducto">Precio</label>
              <input id="e_precioProducto" type="number" min="0" step="0.01" required>
              <div class="error" id="errEPrecio"></div>
            </div>
            <div>
              <label for="e_stockProducto">Stock</label>
              <input id="e_stockProducto" type="number" min="0" step="1" required>
              <div class="error" id="errEStock"></div>
            </div>
          </div>

          <div class="fila">
            <label for="e_stockCriticoProducto">Stock Crítico (opcional)</label>
            <input id="e_stockCriticoProducto" type="number" min="0" step="1">
          </div>

          <div class="fila">
            <label for="e_categoriaProducto">Categoría</label>
            <select id="e_categoriaProducto" required></select>
            <div class="error" id="errECategoria"></div>
          </div>

          <div class="fila">
            <label for="e_imagenProducto">Imagen (URL)</label>
            <input id="e_imagenProducto" placeholder="https://...">
          </div>

          <div class="acciones" style="display:flex; gap:8px; flex-wrap:wrap;">
            <button class="btn primario" type="submit">Guardar cambios</button>
            <a class="btn secundario" href="productos.html">Volver</a>
          </div>
          <p id="msgEditarProducto" class="exito"></p>
        </form>
      </div>
    </section>
  </main>

  <footer class="pie">
    <p>© 2025 Level-Up Gamer — Chile</p>
    <p class="pie-links">
      <a href="https://instagram.com" target="_blank" rel="noopener">Instagram</a> ·
      <a href="https://x.com" target="_blank" rel="noopener">X</a> ·
      <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
    </p>
  </footer>

  <!-- Panel Mi Cuenta -->
  <aside id="panelCuenta" class="panel-cuenta" aria-hidden="true">
    <div class="panel-cuenta__cab">
      <h3>Mi cuenta</h3>
      <button id="btnCerrarCuenta" class="panel-cuenta__cerrar" aria-label="Cerrar">✕</button>
    </div>
    <div class="panel-cuenta__contenido">
      <div class="panel-cuenta__avatar">
        <img src="../img/imgPerfil.png" alt="Foto de perfil">
      </div>
      <p><strong>Nombre:</strong> <span id="cuentaNombre"></span></p>
      <p><strong>Correo:</strong> <span id="cuentaCorreo"></span></p>
      <a class="btn secundario" href="../perfil.html">Editar Perfil</a>
      <div class="panel-cuenta__bloque">
        <label><strong>Código de referido</strong></label>
        <div class="panel-cuenta__ref">
          <input id="cuentaCodigoReferido" readonly>
          <button id="btnCopiarCodigo" class="btn secundario" type="button">Copiar</button>
        </div>
      </div>
      <div class="panel-cuenta__acciones">
        <button id="btnSalirCuenta" class="btn">Salir</button>
      </div>
    </div>
  </aside>
  <div id="cortinaCuenta" class="cortina" hidden></div>
</body>
</html>
